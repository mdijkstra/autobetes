<!DOCTYPE html>
<html>
<head>
<title>Autobetes app</title>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="chrome=1" />
<meta name="viewport"
	content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no" />
<link rel="stylesheet" href="themes/autobetes_theme_20141110.min.css" />
<link rel="stylesheet" href="themes/jquery.mobile.icons.min.css" />
<link rel="stylesheet" href="css/jquery.mobile.structure-1.4.5.min.css" />
<!-- script src="/js/jquery-1.8.3.min.js"></script-->
<link rel="icon" href="img/favicon.ico" type="image/x-icon">
<link rel="stylesheet" href="css/autobetes.css" type="text/css">
<link rel="stylesheet" href="css/joyride-2.1.css" type="text/css">
</head>
<body>


	<!-- Start of first page -->
	<div data-role="page" id="home-page">
		<div data-role="header" data-position="fixed"
			style="min-height: 55px;">
			<h1>Autobetes</h1>
			<!-- <a href="#settings-page" data-icon="autobetes-settings"
				style="height: 30px;">&nbsp;</a> -->

			<div id="home-page-navbar" data-role="navbar">
				<ul>
					<li><a id="homeStartButton" href="#event-list-page"
						onclick="EventListType = FOOD; $('#event-list-page-header').html('My food'); $('#event-list-page-define-new-event-button').html('New')"
						data-role="button" data-icon="autobetes-fork"><span
							class="homeButtonText">Food</span></a></li>
					<li><a href="#event-list-page"
						onclick="EventListType = ACTIVITY; $('#event-list-page-header').html('Special'); $('#event-list-page-define-new-event-button').html('New')"
						data-role="button" data-icon="autobetes-special"><span
							class="homeButtonText">Special</span></a></li>
					<li><a id="historyButton" href="#history-event-instance-page"
						onclick="$(document).removeData('selectedTabIndex2');"
						data-role="button" data-icon="autobetes-logbook" c><span
							class="homeButtonText">Log</span></a></li>
					<li><a id="advicesButton" href="#advice-page"
						data-role="button" data-icon="autobetes-advice"><span
							class="homeButtonText">Advice</span></a></li>

				</ul>
			</div>


		</div>

		<h3 id="movesNotInstalled" style="display: none; text-align: center;"
				>
				Please install the <a id="linkToMovesWebsite" style="text-decoration: none">Moves
					app</a> to record activities automatically
			</h3>
		<h3 id="movesNotConnected" style="display: none; text-align: center;"
				>
				You have Moves installed, please click <a class="connectToMoves" style="text-decoration: none">this
					link</a> to connect it with this app
			</h3>
		<div role="main" id="mainScreen" class="ui-content">
			<div id="background"></div>


			<IMG ID="test-plot" alt=""> <IMG ID="sensor-plot">
			<div id="current-food-event-list" data-role="controlgroup"
				data-filter="true" data-input="#filterControlgroup-input"></div>
			<script id="current-food-event-list-template"
				type="text/x-handlebars-template">
				<H4 style="line-height: 40%;">Current food intake:</H4>
				
				{{#each .}}
					{{#if amount}}
						<li><a class="ui-btn" style=" font-size: 9pt;" href="#edit-event-instance-page" onclick='view.populateEditEventInstancePage("{{id}}", FOOD)'>
							{{#if carbs}}
								{{#if estimationCarbs}}
									<span style="font-size: 9pt; font-weight: bold;">{{amount}}x {{name}} </span><span  style="float:right; font-size: 9pt; font-weight: bold;"> {{carbs}} gram ?</span>
								{{else}}
									<span style="font-size: 9pt; font-weight: bold;">{{amount}}x {{name}} </span><span  style="float:right; font-size: 9pt; font-weight: bold"> {{carbs}} gram &#160;&#160;</span>
								{{/if}}
							{{else}}
								<span style="font-size: 9pt; font-weight: bold;">{{amount}}x {{name}} </span><span style="float:right; font-size: 9pt; font-weight: bold;"> ?</span>
							{{/if}}
						</a></li>
					{{else}}
						{{#if total}}
							{{#if estimatedContent}}
								<p style="line-height: 40%;">Total carbs: <B>{{total}} gram</B> (estimated)</p>
							{{else}}
								<p style="line-height: 40%;">Total carbs: <B>{{total}} gram</B> </p>
							{{/if}}
							<ul class="ui-listview" data-role="listview" data-theme="a">
							<br>
						{{/if}}
					{{/if}}
					
				{{/each}}
				</ul>
			</script>

			<div id="current-activity-event-list" data-role="controlgroup"
				data-filter="true" data-input="#filterControlgroup-input"></div>

			<script id="current-activity-event-list-template"
				type="text/x-handlebars-template">
				<H4>Current special events:</H4>
				<ul class="ui-listview" data-role="listview" data-icon="false" data-split-icon="delete">
				{{#each .}}
					{{#if endHours}}
					<li class="ui-li-has-alt">
						<a class="ui-btn"><h3>{{name}}</h3><p class ="topic"><strong>Degree: <span style="color:{{intensityColorInterpretation}}">{{intensityText}}</span></strong></p><p class="ui-li-aside"><strong><span>{{beginHours}}</span>:<span>{{beginMinutes}} - {{endHours}}:{{endMinutes}}</span></strong><br><span>{{beginDay}}-{{beginMonth}}-{{beginYear}}</span></p></a><a id="endActivityEventButton" href="#edit-event-instance-page" onclick='view.populateEditEventInstancePage("{{id}}", "{{eventType}}")' class="endEvent ui-btn ui-icon-stop"  title="End"></a>
					</li>
					{{else}}
					<li class="ui-li-has-alt">
						<a class="ui-btn"><h3>{{name}}</h3><p class ="topic"><strong>Degree: <span style="color:{{intensityColorInterpretation}}">{{intensityText}}</span></strong></p><p class="ui-li-aside"><strong><span>{{beginHours}}</span>:<span>{{beginMinutes}} </span></strong><br><span>{{beginDay}}-{{beginMonth}}-{{beginYear}}</span></p></a><a id="endActivityEventButton" href="#edit-event-instance-page" onclick='view.populateEditEventInstancePage("{{id}}", "{{eventType}}")' class="endEvent ui-btn ui-icon-stop"  title="End"></a>
					</li>
					{{/if}}
				{{/each}}
				</ul>
			</script>

			<br>
		</div>

		<div data-role="footer" data-position="relative"
			class="ui-footer ui-bar-a ui-footer-fixed slideup">
			<div data-role="navbar">
				<ul><li><a class="help-button" data-icon="autobetes-help">Help</a></li>
					<li><a href="#home-page" class="ui-btn-active ui-state-persist" data-icon="autobetes-home">Home</a></li>
					<li><a href="#settings-page" data-icon="autobetes-settings">Settings</a></li>
				</ul>
			</div>
		</div>
	</div>
	<!-- /page -->

	<div data-role="page" id="event-list-page">
		<div data-role="header" data-position="fixed"
			style="min-height: 55px;">
			<a data-rel="back" data-icon="autobetes-back" style="height: 30px;">&nbsp;</a>
			<h1 id="event-list-page-header">My food / special events</h1>
			<a id="editModeButton" data-icon="autobetes-edit"
				style="height: 30px;">&nbsp;</a>
			<div id="searchEventsInputForm">
				<input data-type="search" id="filterControlgroup-input">
			</div>
		</div>

		<div data-role="main" class="ui-content">
			<div id="recentlyAddedEvent" style="display: none">
				<span id="eventnameOfAddedOrEditedEvent" style="display: none"></span>
				<A id="recentAddedEventButton"
					CLASS=" ui-btn ui-shadow ui-corner-all" style="background: #adf4b4"></A>
			</div>

			<div id="define-new-event-button-list">
				<a id="event-list-page-define-new-event-button"
					style="background: #3388CC; color: #FFFFFF; text-shadow: none;"
					onclick="view.setNewEventScreen();" href="#define-event-page"
					class="ui-btn ui-shadow ui-corner-all">New</a>
			</div>
			<div id="event-list" data-role="controlgroup" data-filter="true"
				data-input="#filterControlgroup-input"></div>
			<script id="event-list-template" type="text/x-handlebars-template">
				
				{{#each .}}
					{{#if standard}}
						{{!-- The event is  standard so not editable --}}
						<a onclick=' if($("#editModeButton").val()!=="on"){ $.mobile.changePage("#start-event-instance-page"); view.populateStartEventInstanceScreen("{{id}}");}' class="ui-btn ui-shadow ui-corner-all" style="background: #FCE5F4 !important">{{name}}</a>
					{{else}}
						<a onclick='view.setAddOrEditScreen("{{id}}")' class="eventButtons ui-btn ui-shadow ui-corner-all">{{name}}</a>
					{{/if}}
				{{/each}}
				</div>
			</script>

			<br>
		</div>
		<!-- /content -->
		<div data-role="footer" data-position="relative"
			class="ui-footer ui-bar-a ui-footer-fixed slideup">
			<div data-role="navbar">
				<ul><li><a class="help-button">Help</a></li>
					<li><a href="#home-page"
						class="ui-btn-active ui-state-persist">Home</a></li>
					<li><a href="#settings-page">Settings</a></li>
				</ul>
			</div>
		</div>

	</div>
	<!-- /page -->

	<div data-role="page" id="start-event-instance-page">
		<div data-role="header" data-position="fixed"
			style="min-height: 55px;">
			<a data-rel="back" data-icon="autobetes-back" style="height: 30px;">&nbsp;</a>
			<p id="start-event-instance-page-event-cId" style="display: none"></p>
			<p id="start-event-instance-page-eventType" style="display: none"></p>
			<H1 id="startEventInstanceHeader">Eat</H1>
		</div>
		<!-- /header -->

		<div role="main" class="ui-content">
			<H3 id="startEventName"></H3>
			<p id="startEventPortionSize" class="grayColor"></p>
			<!-- input name="mode7" id="mode7" type="text" data-role="datebox" data-icon="grid" data-options='{"mode":"timeflipbox", "useNewStyle":true, "overrideTimeFormat": 24}' class="ui-input-text ui-body-d ui-corner-all ui-icon-grid" readonly="readonly"-->
			<table width="100%">
				<tr>
					<td width="50%"><input name="mydate" id="mydate" type="date"
						data-role="datebox" data-options='{"mode": "timeflipbox"}'>
					</td>
					<td width="50%"><input name="mydate" id="mytime" type="time"
						data-role="datebox"
						data-options='{"mode": "timebox", "overrideTimeFormat": 24}'>
					</td>
				</tr>
			</table>
			<div id="startEventQuantitySliderField" class="ui-field-contain">
				<p id="start-event-instance-amount-of-grams-text"
					style="display: none"></p>
				<label id="start-event-instance-food-quantity-slider-label">Servings</label>
				<label id="start-event-instance-activity-quantity-slider-label"
					style="display: none">Degree: <span id="intensityToText">Little</span></label>
				<input class="numbersOnly" type="range"
					name="start-event-instance-quantity-slider"
					id="start-event-instance-quantity-slider" data-highlight="true"
					min="1" max="10" value="1" step="0.25">
			</div>



		</div>
		<!-- /content -->

		<div data-role="footer" data-id="foo1" data-position="relative"
			class="ui-footer ui-bar-a ui-footer-fixed slideup">
			<A id="startEventInstanceButton"
				class="ui-btn ui-shadow ui-corner-all">Save</A> <a
				href="#event-list-page"
				class="ui-btn ui-corner-all ui-shadow ui-btn-inline ">Cancel</a>
			<div data-role="navbar">
				<ul><li><a class="help-button">Help</a></li>
					<li><a href="#home-page"
						class="ui-btn-active ui-state-persist">Home</a></li>
					<li><a href="#settings-page">Settings</a></li>
				</ul>
			</div>
		</div>

	</div>
	<!-- /page -->
	<div data-role="page" id="define-event-page">
		<div data-role="header" style="min-height: 55px;">
			<a data-rel="back" data-icon="autobetes-back" style="height: 30px;">&nbsp;</a>
			<H1 id="headerName">New food</H1>
		</div>
		<!-- /header -->

		<div data-role="main" class="ui-content">

			<input id="newEventName" type="text" data-clear-btn="true"
				name="text-7" value="" placeholder="Name">

			<div id="newEventPageFoodInput">
				<br>
				<p style="line-height: 40%;">Carbs in a serving:</p>
				<table class="table-condensed">
					<thead>
					</thead>
					<tbody>
						<tr>
							<td width="50%"><input type="number" id="newEventPageCarbs"
								data-clear-btn="true" step="0.1" pattern="[0-9]+\.?[0-9]?"
								placeholder="unknown"></td>
							<td width="20%">
								<p>gram</p>
							</td>
							<td width="30%">
								<form>
									     <input type="checkbox" name="checkbox-mini-0"
										id="newEventEstimationCarbs" data-mini="true">      <label
										for="newEventEstimationCarbs">Estimate</label>
								</form>


							</td>
						</tr>
					</tbody>
				</table>
				<p style="line-height: 40%;">Serving size:</p>
				<table class="table-condensed">
					<tr>
						<td width="40%"><input type="number" id="newEventPortionSize"
							step="0.1" data-clear-btn="true" pattern="[0-9]+\.?[0-9]?"
							placeholder="unknown"></td>
						<td width="60%">
							<p>gram</p>
						</td>

					</tr>
					<!-- 
					<tr>
						<td width="29%">
							<p>Alcohol:</p>
						</td>
						<td width="50%"><input type="number"
							id="newEventPageAlcoholicUnits" step="0.1" data-clear-btn="true"
							pattern="[0-9]+\.?[0-9]?" placeholder="unknown" value="0">
						</td>
						<td width="20%">
							<p>units</p>
						</td>
						<td width="1%"><a
							onclick='view.toastMessage("Clear if unknown. Number of alcholic units in this food/drink. One unit corresponds to a standard glass")'
							class="ui-btn ui-icon-info ui-btn-icon-notext ui-corner-all"></a>
						</td>
					</tr> -->
				</table>
			</div>
			<!-- br for android, enables visibility of field "serving size" if keyboard opens  -->
			<br> <br> <br> <br> <br> <br>
			<p id="foodId" style="display: none"></p>


		</div>
		<!-- /content -->
		<div data-role="footer" data-id="foo1" data-position="relative"
			class="ui-footer ui-bar-a ui-footer-fixed slideup">
			<a id="addOrSaveFoodEvent"
				onclick="controller.saveOrEditFoodEvent(false)"
				class="ui-btn ui-corner-all ui-shadow ui-btn-inline ui-icon-plus ui-btn-icon-left">Save</a>
			<a id="addOrEditEventAndStart"
				onclick="controller.saveOrEditFoodEvent(true)"
				class="ui-btn ui-corner-all ui-shadow ui-btn-inline ui-icon-plus ui-btn-icon-left">Save
				and 'eat'</a> <a href="#deleteEventDialog" id="deleteEvent"
				data-rel="dialog" data-transition="slidedown"
				class="ui-btn ui-corner-all ui-shadow ui-btn-inline ui-icon-delete ui-btn-icon-left"
				style="display: none">Delete</a> <a href="#event-list-page"
				class="ui-btn ui-corner-all ui-shadow ui-btn-inline ">Cancel</a>
			<!-- Go back to event list page -->

			<div data-role="navbar">
				<ul><li><a class="help-button">Help</a></li>
					<li><a href="#home-page"
						class="ui-btn-active ui-state-persist">Home</a></li>
					<li><a href="#settings-page">Settings</a></li>
				</ul>
			</div>
			<!-- /navbar -->
		</div>
		<!-- /footer -->
	</div>
	<!-- /page -->

	<div data-role="page" id="settings-page">
		<div data-role="header" data-position="fixed"
			style="min-height: 55px;">
			<a data-rel="back" data-icon="autobetes-back" style="height: 30px;">&nbsp;</a>
			<H1>Settings</H1>
		</div>
		<!-- /header -->

		<div role="main" class="ui-content">
			<div data-role="controlgroup">
				<ul class="ui-listview" data-icon="false">
					<li class="ui-first-child"><a id="account-button" class="ui-btn">
							<h3>Account</h3>
							<p id="settingsPageAccount"></p>
					</a></li>
					<li><a id="user-info-button" href="#user-info-page" class="ios" data-role="button"
						data-theme="a" data-icon="autobetes-edit2" data-iconpos="left">
							&nbsp;&nbsp;&nbsp;Edit user info </a></li>
					<li><a id="connect-to-moves-button" class="connectToMoves" data-role="button"
						data-theme="a" data-icon="autobetes-run" data-iconpos="left">&nbsp;&nbsp;&nbsp;Connect
							to moves</a></li>
					<li><a id="force-sync-button" class="ios" data-role="button" data-theme="a"
						data-icon="autobetes-synchronize" data-iconpos="left"
						onclick="synchronise(); view.toastShortMessage(SYNCHRONISE)">
							&nbsp;&nbsp;&nbsp;Force synchronisation </a></li>

					<li><a id="sensor-plot-slider-button" class="ios" data-role="button" data-theme="a"
						data-icon="autobetes-graph" data-iconpos="left">&nbsp;&nbsp;&nbsp;Sensor
							plot <select class="ui-li-aside" id="sensorPlotSlider"
							name="slider" id="flip-a" data-role="slider">
								<option value="off">Off</option>
								<option value="on">On</option>
						</select>
					</a></li>
					<li><a id="feedback-button" href="mailto:autobetes@gmail.com"
						data-icon="autobetes-feedback" data-role="button"
						data-iconpos="left" data-theme="a" class="ios">&nbsp;&nbsp;&nbsp;Feedback</a>
					</li>
					<li><a id="logout-button" href="#login-page"
						data-icon="autobetes-logout" data-role="button"
						data-iconpos="left" data-theme="a" onclick="dbHandler.resetDB()"
						class="ios">&nbsp;&nbsp;&nbsp;Logout</a></li>

					<!-- Is now a standard activity
					<li><a id="settings-page-recordingEventsButton"  class="ui-btn">
							<h3>Recording events</h3> <select style="float: right;"
							name="slider" id="flip-a" data-role="slider">
								<option value="off">Off</option>
								<option value="on">On</option>
						</select>
					</a> </li>
					-->

				</ul>

				<br>

			</div>


		</div>
		<!-- /content -->
		<div data-role="footer" data-id="foo1" data-position="relative"
			class="ui-footer ui-bar-a ui-footer-fixed slideup">
			<div data-role="navbar">
				<ul><li><a class="help-button">Help</a></li>
					<li><a href="#home-page">Home</a></li>
					<li><a href="#settings-page"
						class="ui-btn-active ui-state-persist">Settings</a></li>
				</ul>
			</div>
			<!-- /navbar -->
		</div>
		<!-- /footer -->
	</div>
	<div data-role="page" data-id="settingsHeader" id="user-info-page">
		<div data-role="header" data-position="fixed"
			style="min-height: 55px;">
			<a data-rel="back" data-icon="autobetes-back" style="height: 30px;">&nbsp;</a>
			<H1>Edit user info</H1>
		</div>
		<!-- /header -->

		<div role="main" class="ui-content">
			<div class="settingsList">
				<ul class="ui-listview" data-icon="false">

					<li class="ui-first-child"><a class="ui-btn">
							<h3>Pump Id</h3> <input id="pumpSerial" type="text"
							data-clear-btn="true" placeholder="i.e. 1234567">
					</a></li>
					<li><a class="ui-btn">
							<h3>Gender</h3>

							<fieldset id="genderForm" data-role="controlgroup"
								data-type="horizontal" style="text-align: center">

								<input type="radio" name="radio-choice-h-2"
									id="radio-choice-h-2a" value="Male"> <label
									class="radioChoiceNewEvent" for="radio-choice-h-2a">Male</label>
								<input type="radio" name="radio-choice-h-2"
									id="radio-choice-h-2b" value="Female"> <label
									class="radioChoiceNewEvent" for="radio-choice-h-2b">Female</label>

							</fieldset>


					</a></li>

					<li><a class="ui-btn">
							<h3>Body weight</h3> <input type="number" id="bodyWeight"
							step="1" pattern="[0-9]*" data-clear-btn="true"
							placeholder="In kilograms">
					</a></li>
					<li><a class="ui-btn">
							<h3>Length</h3> <input id="length" type="number"
							data-clear-btn="true" step="1" pattern="[0-9]*"
							placeholder="In centimeters">
					</a></li>
					<li><a class="ui-btn">
							<h3>Year of birth</h3> <input id="yearOfBirth" type="number"
							data-clear-btn="true" step="1" pattern="[0-9]*"
							placeholder="i.e. 1991">
					</a></li>
					<br>
					<br>
					<br>


				</ul>
				<br>

			</div>


		</div>
		<!-- /content -->
		<div data-role="footer" data-id="foo1" data-position="relative"
			class="ui-footer ui-bar-a ui-footer-fixed slideup">
			<a id="saveUserInfoButton" data-corners="true" data-shadow="true"
				data-iconshadow="true" data-wrapperels="span"
				class="ui-btn ui-shadow ui-btn-corner-all ui-btn-up-b"> <span
				class="ui-btn-inner ui-btn-corner-all"> <span
					class="ui-btn-text">Save</span>
			</span>
			</a>
			<div data-role="navbar">
				<ul><li><a class="help-button">Help</a></li>
					<li><a href="#home-page">Home</a></li>
					<li><a href="#settings-page"
						class="ui-btn-active ui-state-persist">Settings</a></li>
				</ul>
			</div>
			<!-- /navbar -->
		</div>
		<!-- /footer -->
	</div>



	<div data-role="page" id="history-event-instance-page">
		<div data-role="header" data-position="fixed"
			style="min-height: 55px;">
			<a data-rel="back" data-icon="autobetes-back" style="height: 30px;">&nbsp;</a>
			<H1>History</H1>
			<div id="history-event-instance-list-navbar" data-role="navbar">
				<ul>
					<li><a href="#"
						name="history-event-instance-list-navbar-buttons">All</a></li>
					<li><a href="#"
						name="history-event-instance-list-navbar-buttons">Food</a></li>
					<li><a href="#"
						name="history-event-instance-list-navbar-buttons">Special</a></li>
				</ul>
			</div>
			<!-- /navbar -->
		</div>
		<!-- /header -->

		<div role="main" class="ui-content">

			<div id="history-event-instance-list" data-role="controlgroup"
				data-filter="true" data-input="#filterControlgroup-input"></div>
			<script id="history-event-instance-list-template"
				type="text/x-handlebars-template">
				<ul class="ui-listview" data-role="listview" data-icon="false" data-split-icon="delete">
				{{#each .}}
					<li class="ui-li-has-alt">
					{{#if amount}}
						{{#if carbs}}
							<a href="#edit-event-instance-page" onclick='view.populateEditEventInstancePage("{{id}}", "{{eventType}}")' class="ui-btn"><h3>{{name}}</h3><p class ="topic"><strong>Carbs: {{carbs}} grams</strong></p><p class="ui-li-aside"><strong>{{beginHours}}:{{beginMinutes}}</strong><br><span>{{beginDay}}-{{beginMonth}}-{{beginYear}}</p></a><a href="#deleteEventInstanceDialog" onclick='$("#delete-from").html($.mobile.activePage[0].id); controller.deleteEventInstance("{{name}}", "{{id}}", "{{eventType}}");' class="deleteEvent ui-btn ui-btn-icon-notext ui-icon-delete" data-rel="dialog" data-transition="slidedown" title="Delete"></a>

						{{else}}
							<a href="#edit-event-instance-page" onclick='view.populateEditEventInstancePage("{{id}}", "{{eventType}}")' class="ui-btn"><h3>{{name}}</h3><p class ="topic"><strong>Amount: {{amount}} </strong></p><p class="ui-li-aside"><strong>{{beginHours}}:{{beginMinutes}}</strong><br><span>{{beginDay}}-{{beginMonth}}-{{beginYear}}</p></a><a href="#deleteEventInstanceDialog" onclick='$("#delete-from").html($.mobile.activePage[0].id); controller.deleteEventInstance("{{name}}", "{{id}}", "{{eventType}}");' class="deleteEvent ui-btn ui-btn-icon-notext ui-icon-delete" data-rel="dialog" data-transition="slidedown" title="Delete"></a>
						{{/if}}
					{{else}}
						<a href="#edit-event-instance-page" onclick='view.populateEditEventInstancePage("{{id}}", "{{eventType}}")' class="ui-btn"><h3>{{name}}</h3><p class ="topic"><strong>Degree: <span style="color:{{intensityColorInterpretation}}">{{intensityText}}</span></strong></p><p class="ui-li-aside"><strong>{{beginHours}}:{{beginMinutes}} - {{endHours}}:{{endMinutes}}</strong><br><span>{{beginDay}}-{{beginMonth}}-{{beginYear}}</p></a><a href="#deleteEventInstanceDialog" onclick='$("#delete-from").html($.mobile.activePage[0].id); controller.deleteEventInstance("{{name}}", "{{id}}", "{{eventType}}");' data-rel="dialog" data-transition="slidedown" class="ui-btn ui-btn-icon-notext ui-icon-delete"></a>
					
					{{/if}}
					</li>
				{{/each}}
				</ul>

			
		</script>
			<br>

		</div>
		<!-- /content -->
		<div style="display: none;" id="confirm-placeholder">
			<!-- placeholder for confirm -->
		</div>
		<!-- /popup -->
		<div class="ui-screen-hidden ui-popup-screen ui-overlay-inherit"
			id="confirm-screen"></div>
		<div class="ui-popup-container ui-popup-hidden ui-popup-truncate"
			id="confirm-popup">
			<div id="confirm"
				class="ui-content ui-popup ui-body-a ui-overlay-shadow ui-corner-all"
				data-role="popup" data-theme="a">
				<p id="question">Are you sure you want to delete:</p>
				<div class="ui-grid-a">
					<div class="ui-block-a">
						<a id="yes" class="ui-btn ui-corner-all ui-mini ui-btn-a"
							data-rel="back">Yes</a>
					</div>
					<div class="ui-block-b">
						<a id="cancel" class="ui-btn ui-corner-all ui-mini ui-btn-a"
							data-rel="back">Cancel</a>
					</div>
				</div>
			</div>
		</div>
		<div data-role="footer" data-position="relative"
			class="ui-footer ui-bar-a ui-footer-fixed slideup">
			<div data-role="navbar">
				<ul><li><a class="help-button">Help</a></li>
					<li><a href="#home-page"
						class="ui-btn-active ui-state-persist">Home</a></li>
					<li><a href="#settings-page">Settings</a></li>
				</ul>
			</div>
		</div>
	</div>


	<div data-role="page" id="edit-event-instance-page">
		<div data-role="header" data-position="fixed"
			style="min-height: 55px;">
			<a data-rel="back" data-icon="autobetes-back" style="height: 30px;">&nbsp;</a>
			<H1>Edit</H1>

		</div>
		<!-- /header -->

		<div role="main" class="ui-content">
			<H3 id="edit-event-instance-name">Begin</H3>
			<p id="editEventPortionSize" class="grayColor"></p>
			<p id="edit-event-instance-cId" style="display: none"></p>
			<p id="edit-event-instance-eventType" style="display: none"></p>
			<!-- input name="mode7" id="mode7" type="text" data-role="datebox" data-icon="grid" data-options='{"mode":"timeflipbox", "useNewStyle":true, "overrideTimeFormat": 24}' class="ui-input-text ui-body-d ui-corner-all ui-icon-grid" readonly="readonly"-->

			<p id="edit-event-instance-page-begin-time-text">From:</p>
			<table width="100%">
				<tr>
					<td width="50%"><input name="mydate"
						id="edit-event-instance-page-begin-date-field" type="date"
						data-role="datebox" data-options='{"mode": "timeflipbox"}'>
					</td>
					<td width="50%"><input name="mytime"
						id="edit-event-instance-page-begin-time-field" type="time"
						data-role="datebox"
						data-options='{"mode": "timebox", "overrideTimeFormat": 24}'>
					</td>
				</tr>
			</table>

			<div id="endTimeField" style="display: none;">
				<p>To:</p>
				<table width="100%">
					<tr>
						<td width="50%"><input name="mydate"
							id="edit-event-instance-page-end-date-field" type="date"
							data-role="datebox" data-options='{"mode": "timeflipbox"}'>
						</td>
						<td width="50%"><input name="mytime"
							id="edit-event-instance-page-end-time-field" type="time"
							data-role="datebox"
							data-options='{"mode": "timebox", "overrideTimeFormat": 24}'>
						</td>
					<tr>
				</table>

			</div>


			<div class="ui-field-contain">
				<p id="edit-event-instance-amount-of-grams-text"
					style="display: none"></p>
				<label id="edit-event-instance-food-quantity-slider-label">Servings</label>
				<label id="edit-event-instance-activity-quantity-slider-label"
					style="display: none">Degree: <span
					id="intensity-slider-label-intensity-indication">Little</span></label> <input
					class="numbersOnly" type="range"
					name="edit-event-instance-quantity-slider"
					id="edit-event-instance-quantity-slider" data-highlight="true"
					min="1" max="10" value="1" step="1">

			</div>

		</div>

		<!-- /content -->
		<div data-role="footer" data-id="foo1" data-position="relative"
			class="ui-footer ui-bar-a ui-footer-fixed slideup">

			<a id="edit-event-instance-page-save-button"
				onclick="controller.updateEventInstance()"
				id="edit-event-instance-page-save-button"
				CLASS="ui-btn ui-shadow ui-corner-all">Save</a> <a data-rel="back"
				class="ui-btn ui-corner-all ui-shadow ui-btn-inline ">Cancel</a> <a
				href="#deleteEventInstanceDialog"
				onclick='$("#delete-from").html($.mobile.activePage[0].id); controller.deleteEventInstance($("#edit-event-instance-name").text(), $("#edit-event-instance-cId").text(), $("#edit-event-instance-eventType").text());'
				CLASS="ui-btn ui-shadow ui-corner-all" data-rel="dialog"
				data-transition="slidedown" title="Delete">Delete</a>
			<div data-role="navbar">
				<ul><li><a class="help-button">Help</a></li>
					<li><a href="#home-page"
						class="ui-btn-active ui-state-persist">Home</a></li>
					<li><a href="#settings-page">Settings</a></li>
				</ul>
			</div>
		</div>
	</div>
	<div data-role="page" id="advice-page">
		<div data-role="header" data-position="fixed"
			style="min-height: 55px;">
			<a data-rel="back" data-icon="autobetes-back" style="height: 30px;">&nbsp;</a>
			<H1>Advice</H1>
		</div>
		<div role="main" class="ui-content"></div>
		<div data-role="footer" data-id="foo1" data-position="relative"
			class="ui-footer ui-bar-a ui-footer-fixed slideup">
			<div data-role="navbar">
				<ul><li><a class="help-button">Help</a></li>
					<li><a href="#home-page"
						class="ui-btn-active ui-state-persist">Home</a></li>
					<li><a href="#settings-page">Settings</a></li>
				</ul>
			</div>
		</div>
	</div>


	<!-- 
	<div data-role="page" id="report-page">
		<div data-role="header" data-position="fixed"
			style="min-height: 55px;">
			<a data-rel="back" data-icon="autobetes-back"
				style="height: 30px;">&nbsp;</a>
			<H1>Report</H1>
		</div>
		
		<div role="main" class="ui-content">
			<h3>
				Connections <SPAN id="connection-stats-time"></SPAN>
			</h3>
			<ul>
				<li>Server: <SPAN id="server-last-seen-span"></SPAN></li>
				<li>Raspberry: <SPAN id="raspberry-last-seen-span"></SPAN></li>
				<li>Sensor: <SPAN id="sensor-last-seen-span"></SPAN></li>
			</ul>
			<div id="reportDiv2"></div>
		</div>

		<div class="FooterClass"></div>
		<div data-role="footer" data-id="foo1" data-position="relative"
			class="ui-footer ui-bar-a ui-footer-fixed slideup">
			<div data-role="navbar">
				<ul>
					<li><a href="#home-page">Dashboard</a></li>
					<li><a href="#report-page"
						class="ui-btn-active ui-state-persist">Report</a></li>
				</ul>
			</div>
			
		</div>
		

	</div>

 -->
	<div data-role="page" id="pumpSettings">
		<div data-role="header" data-position="fixed"
			style="min-height: 55px;">
			<a data-rel="back" data-icon="autobetes-back" style="height: 30px;">&nbsp;</a>
			<H1>Pump settings</H1>

		</div>
		<!-- /header -->
		<div role="main" class="ui-content">
			<!--<iframe src="http://195.169.22.242/settings" style="width:100%; height:100%;" frameborder="0" name="iframe_a"></iframe>-->

		</div>
		<div data-role="footer" data-id="foo1" data-position="relative"
			class="ui-footer ui-bar-a ui-footer-fixed slideup">
			<div data-role="navbar">
				<ul><li><a class="help-button">Help</a></li>
					<li><a href="#home-page">Home</a></li>
					<li><a href="#settings-page">Settings</a></li>
				</ul>
			</div>
			<!-- /navbar -->
		</div>
		<!-- /footer -->

	</div>
	<!-- /page -->

	<!-- /content -->
	<!-- /page -->

	<div data-role="page" id="messageDialog" data-position="window">
		<div data-role="header">
			<h1 id="messageDialogHeader"></h1>
		</div>
		<div data-role="content">
			<p id="messageDialogText"></p>
			<a id="messageDialogConfirmButton" data-role="button" data-rel="back"
				data-corners="true" data-shadow="true" data-iconshadow="true"
				data-wrapperels="span"
				class="ui-btn ui-shadow ui-btn-corner-all ui-btn-up-b"> <span
				class="ui-btn-inner ui-btn-corner-all"> <span
					class="ui-btn-text">Ok</span>
			</span>
			</a>
		</div>
	</div>

	<div data-role="page" id="deleteEventInstanceDialog"
		data-position="window">
		<div data-role="header">
			<h1>Delete event</h1>
		</div>
		<div data-role="content">
			<p id="dialogText"></p>
			<a id="deleteEventInstanceDialogConfirmButton" data-role="button"
				data-corners="true" data-shadow="true" data-iconshadow="true"
				data-wrapperels="span"
				class="ui-btn ui-shadow ui-btn-corner-all ui-btn-up-b"> <span
				class="ui-btn-inner ui-btn-corner-all"> <span
					class="ui-btn-text">Yes</span>
			</span>
			</a> <a data-role="button" data-rel="back" data-corners="true"
				data-shadow="true" data-iconshadow="true" data-wrapperels="span"
				class="ui-btn ui-shadow ui-btn-corner-all ui-btn-up-b"> <span
				class="ui-btn-inner ui-btn-corner-all"> <span
					class="ui-btn-text">No</span>
			</span>
			</a>
			<p id="delete-from" style="display: none"></p>
		</div>
	</div>
	<div data-role="page" id="deleteEventDialog" data-position="window">
		<div data-role="header">
			<h1>Delete event</h1>
		</div>
		<div data-role="content">
			<p>
				Are you sure you want to delete <span
					id="deleteEventDialogEventName"></span>
			</p>
			<a id="deleteEventDialogConfirmButton" data-role="button"
				data-corners="true" data-shadow="true" data-iconshadow="true"
				data-wrapperels="span"
				class="ui-btn ui-shadow ui-btn-corner-all ui-btn-up-b"> <span
				class="ui-btn-inner ui-btn-corner-all"> <span
					class="ui-btn-text">Yes</span>
			</span>
			</a> <a id="deleteEventDialogNoButton" data-role="button" data-rel="back"
				data-corners="true" data-shadow="true" data-iconshadow="true"
				data-wrapperels="span"
				class="ui-btn ui-shadow ui-btn-corner-all ui-btn-up-b"> <span
				class="ui-btn-inner ui-btn-corner-all"> <span
					class="ui-btn-text">No</span>
			</span>
			</a>
		</div>
	</div>

	<div data-role="page" id="registrationDialog" data-position="window">
		<div data-role="header">
			<a data-rel="back" data-icon="autobetes-back" style="height: 30px;">&nbsp;</a>
			<h1>Sign up</h1>
		</div>
		<div data-role="content">
			<ul class="ui-listview" data-icon="false">
				<li><a class="ui-btn"><h3>Email</h3> <input
						id="registerEmail" type="text" data-clear-btn="true" name="text-7"
						value="" placeholder="example@autobetes.com"> </a></li>

				<li><a class="ui-btn"><h3>Password</h3> <input
						id="registerPassword" type="password" data-clear-btn="true"
						name="text-7" value=""> </a></li>

				<li><a class="ui-btn"><h3>Confirm password</h3> <input
						id="registerConfirmPassword" type="password" data-clear-btn="true"
						name="text-7" value=""> </a></li>
				<li><a class="ui-btn"><h3>Pump id</h3> <input
						id="registerPumpId" type="text" data-clear-btn="true"
						name="text-7" value="" placeholder="i.e. 1234567"></a></li>

				<li><a class="ui-btn"><h3>Gender</h3>

						<fieldset id="genderFormRegisterScreen" data-role="controlgroup"
							data-type="horizontal" style="text-align: center">

							<input type="radio" name="radio-choice-h-22"
								id="radio-choice-h-22a" value="Male"> <label
								class="radioChoiceNewEvent" for="radio-choice-h-22a">Male</label>
							<input type="radio" name="radio-choice-h-22"
								id="radio-choice-h-22b" value="Female"> <label
								class="radioChoiceNewEvent" for="radio-choice-h-22b">Female</label>

						</fieldset> </a></li>

				<li><a class="ui-btn">
						<h3>Body weight</h3> <input type="number"
						id="bodyWeightRegisterScreen" step="1" pattern="[0-9]*"
						data-clear-btn="true" placeholder="In kilograms">
				</a></li>
				<li><a class="ui-btn">
						<h3>Length</h3> <input id="lengthRegisterScreen" type="number"
						data-clear-btn="true" step="1" pattern="[0-9]*"
						placeholder="In centimeters">
				</a></li>
				<li><a class="ui-btn">
						<h3>Year of birth</h3> <input id="yearOfBirthRegisterScreen"
						type="number" data-clear-btn="true" step="1" pattern="[0-9]*"
						placeholder="i.e. 1991">
				</a></li>
			</ul>
			<br> <br> <br>

			<div data-role="footer" data-id="foo1" data-position="relative"
				class="ui-footer ui-bar-a ui-footer-fixed slideup">
				<a id="registrationDialogOkButton" data-role="button"
					data-corners="true" data-shadow="true" data-iconshadow="true"
					data-wrapperels="span"
					class="ui-btn ui-shadow ui-btn-corner-all ui-btn-up-b"> <span
					class="ui-btn-inner ui-btn-corner-all"> <span
						class="ui-btn-text">Ok</span>
				</span>
				</a>

			</div>

		</div>
	</div>

	<div data-role="page" id="login-page" data-position="window">

		<div data-role="header">

			<h1>Login</h1>
		</div>
		<div data-role="content">

			<input id="loginEmail" type="text" data-clear-btn="true"
				name="text-7" value="" placeholder="Email"> <input
				id="loginPassword" type="password" data-clear-btn="true"
				name="text-7" value="" placeholder="Password"> <a
				id="loginDialogOkButton" data-role="button" data-corners="true"
				data-shadow="true" data-iconshadow="true" data-wrapperels="span"
				class="ui-btn ui-btn-inline ui-icon-check ui-btn-icon-left ui-corner-all">
				<span class="ui-btn-inner ui-btn-corner-all"> <span
					class="ui-btn-text">Login</span>
			</span>
			</a> <a id="registerButton" href="#registrationDialog" data-role="button"
				data-corners="true" data-shadow="true" data-iconshadow="true"
				data-wrapperels="span"
				class="ui-btn ui-btn-inline ui-icon-plus ui-btn-icon-left ui-corner-all">Sign
				up</a> 
				<!-- 
				<a id="guideTourButton" data-role="button" data-corners="true"
				data-shadow="true" data-iconshadow="true" data-wrapperels="span"
				onclick="//$(document).data(TOURMODE, true); $(document).data(GUIDE_TOUR_HOMESCREEN_STOP_INT, 0);$.mobile.changePage('#home-page');"
				class="ui-btn ui-btn-inline ui-icon-plus ui-btn-icon-left ui-corner-all">Guide
				tour</a>
				 -->
		</div>

	</div>
	<div data-role="page" id="guideTours" data-position="window">
		<ol id="home-page-tour">
			<li data-id="homeStartButton" data-text="Next" class="custom">
				<h2>Start event</h2>
				<p>Click here to start an event</p>
			</li>
			<li data-id="historyButton" data-text="Next" class="custom">
				<h2>Stop #2</h2>
				<p>History can be found here</p>
			</li>

		</ol>


		<ol id="event-list-page-tour">
			<li data-id="event-list" data-text="Next" class="custom">
				<h2>Start event</h2>
				<p>Click a button in this list to start an event</p>
			</li>
			<li data-id="event-list-navbar" data-text="Next" class="custom">
				<h2>Filter list</h2>
				<p>Here you can filter the list on certain types</p>
			</li>
			<li data-id="searchEventsInputForm" data-text="Next" class="custom">
				<h2>Search event</h2>
				<p>Use the search bar to search for a specific event</p>
			</li>
			<li data-id="editModeButton" data-text="Next" class="custom">
				<h2>Edit button</h2>
				<p>Press this button to edit a certain event</p>
			</li>
			<li data-id="newEventButton" data-text="Next" class="custom">
				<h2>New event button</h2>
				<p>Press this button to define a new event</p>
			</li>

		</ol>
		
		<ol id="define-event-page-tour">
			<li data-class="radioChoiceNewEvent" data-text="Next" class="custom">
				<h2>Define a new event</h2>
				<p>Once you define a new event , specify event type here</p>
			</li>
			<li data-id="newEventName" data-text="Next" class="custom">
				<h2>Event name</h2>
				<p>Specify event name here</p>
			</li>
			<li data-id="newEventPageCarbs" data-text="Next" class="custom">
				<h2>Carbohydrates</h2>
				<p>In case of a food event, specify size in terms of grams of
					carbs here</p>
			</li>
			<li data-id="newEventPageAlcoholicUnits" data-text="Next"
				class="custom">
				<h2>Alcoholic units</h2>
				<p>In case of a food event, specify number of alcholic units
					here. One unit corresponds to a standard glass</p>
			</li>
			<li data-id="newEventPagePower" data-text="Next" class="custom">
				<h2>Power</h2>
				<p>In case of a activity event, specify Calories / kilo gram
					body weight / hour here</p>
			</li>

		</ol>
		
		<ol id="start-event-instance-page-tour">
			<li data-id="mydate" data-text="Next" class="custom">
				<h2>Date</h2>
				<p>Once you start an event, here you can specify the start date</p>
			</li>
			<li data-id="mytime" data-text="Next" class="custom">
				<h2>Time</h2>
				<p>Specify time here</p>
			</li>
			<li data-id="startEventQuantitySliderField" data-text="Next"
				class="custom">
				<h2>Amount</h2>
				<p>In case of an food event, use this slider to specify the
					amount of this event</p>
			</li>
			<li data-id="startEventQuantitySliderField" data-text="Next"
				class="custom">
				<h2>Degree</h2>
				<p>In case of an activity event, use this slider to specify the
					degree of this event</p>
			</li>
			<li data-id="startEventInstanceButton" data-text="Next"
				class="custom">
				<h2>Start event</h2>
				<p>Your event is registered once you press the start button</p>
			</li>
		</ol>
		
		<ol id="history-event-instance-page-tour">
			<li data-id="history-event-instance-list" data-text="Next"
				class="custom">
				<h2>History events</h2>
				<p>Here all the past events are listed. By clicking a button you
					can edit its event</p>
			</li>
			<li data-class="deleteEvent" data-text="Next" class="custom">
				<h2>Delete event</h2>
				<p>Press this button to delete an event of interest</p>
			</li>
			<li data-id="history-event-instance-list-navbar" data-text="Next"
				class="custom">
				<h2>Filter list</h2>
				<p>Filter list here</p>
			</li>
		</ol>
		<ol id="settings-page-tour">
			<li data-id="account-button" data-text="Next"
				class="custom">
				<h2>Account</h2>
				<p>Here you see your account.</p>
			</li>
			<li data-id="user-info-button" data-text="Next" class="custom">
				<h2>Edit user info</h2>
				<p>Press this button to edit your user info.</p>
			</li>
			<li data-id="connect-to-moves-button" data-text="Next"
				class="custom">
				<h2>Connect to moves</h2>
				<p>For analysis we want you to be connected to moves, for recording activity automatically. Once you installed
				the Moves app, press this button to connect to it.</p>
			</li>
			<li data-id="force-sync-button" data-text="Next" class="custom">
				<h2>Force sync</h2>
				<p>To force a sync with the serverp press this button.</p>
			</li>
			<li data-id="sensor-plot-slider-button" data-text="Next" class="custom">
				<h2>Sensor plot</h2>
				<p>If you have your recent sensor values uploaded to the server you can see the sensor plot 
				at the home screen. Switch to on to see the plot.</p>
			</li>
			<li data-id="feedback-button" data-text="Next" class="custom">
				<h2>Feedback</h2>
				<p>If you have any remarks regarding this application. Please press this button and tell us!</p>
			</li>
			<li data-id="logout-button" data-text="Next" class="custom">
				<h2>Logout</h2>
				<p>Press this button to log out from your account</p>
			</li>
		</ol>


	</div>
	<script type="text/javascript" charset="utf-8" src="phonegap.js"></script>

	<script src="js/libraries/handlebars-v1.3.0.js"></script>
	<script src="js/controllerFunctions/synchronise.js"></script>
	<script src="js/libraries/jquery.js"></script>
	<script src="js/libraries/jquery.mobile-1.4.2.js"></script>
	<script type="text/javascript" src="js/libraries/modernizr.mq.js"></script>
	<script type="text/javascript" src="js/libraries/jquery.joyride-2.1.js"></script>
	<script src="js/dbAndRestclientObjects/restclient.js"></script>
	<script src="js/libraries/date.js"></script>

	<script src="js/dbAndRestclientObjects/dbHandler.js"></script>
	<script src="js/controllerFunctions/guideTourFunctions.js"></script>
	<script src="js/controllerFunctions/pageFunctions.js"></script>
	<script src="js/controllerFunctions/controllerFunctions.js"></script>
	<script src="js/controllerFunctions/onClickFunctions.js"></script>

	<script src="js/viewFunctions/viewFunctions.js"></script>
	<script src="js/viewFunctions/callbackViewFunctions.js"></script>

	<script src="js/index.js"></script>
</body>
</html>
